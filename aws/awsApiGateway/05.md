# Integrate AWS API Gateway with AWS Lambda 

- make a new resource  /lambda 
- make a new lambda function testlambdafunction 
```javascript
export const handler = async (event) => {
  // TODO implement
  const response = {
    statusCode: 200,
    body: JSON.stringify('Hello from Lambda!'),
  };
  return response;
};

```
- in /lambda resource , create a method get request choose lambda , select lambda function with proper region and then create method 
- now in lambda function , we see in trigger , api gateway automatically added 
- now in configuration of lambda , permission also autmotically added for api gateway 
- now deploy the api gateway 
- also before deploying we can test api gateway by going to test  tab
```
Request
/lambda
Latency ms
314
Status
200
Response body
{"statusCode":200,"body":"\"Hello from Lambda!\""}
Response headers
{
  "Content-Type": "application/json",
  "X-Amzn-Trace-Id": "Root=1-689c7bc4-525d5ea4d91113fcd41b39c4;Parent=12f394f3ebbfe599;Sampled=0;Lineage=1:8bcc934e:0"
}
Logs
Execution log for request 040e0f92-f197-4b0e-9844-b82ff6e3639c
Wed Aug 13 11:49:24 UTC 2025 : Starting execution for request: 040e0f92-f197-4b0e-9844-b82ff6e3639c
Wed Aug 13 11:49:24 UTC 2025 : HTTP Method: GET, Resource Path: /lambda
Wed Aug 13 11:49:24 UTC 2025 : Method request path: {}
Wed Aug 13 11:49:24 UTC 2025 : Method request query string: {}
Wed Aug 13 11:49:24 UTC 2025 : Method request headers: {}
Wed Aug 13 11:49:24 UTC 2025 : Method request body before transformations: 
Wed Aug 13 11:49:24 UTC 2025 : Endpoint request URI: https://lambda.us-east-1.amazonaws.com/2015-03-31/functions/arn:aws:lambda:us-east-1:864965618223:function:testlambdafunction/invocations
Wed Aug 13 11:49:24 UTC 2025 : Endpoint request headers: {x-amzn-lambda-integration-tag=040e0f92-f197-4b0e-9844-b82ff6e3639c, Authorization=***********************************************************************************************************************************************************************************************************************************************************************************************************9279d9, X-Amz-Date=20250813T114924Z, x-amzn-apigateway-api-id=8lfiwn0kuf, X-Amz-Source-Arn=arn:aws:execute-api:us-east-1:864965618223:8lfiwn0kuf/test-invoke-stage/GET/lambda, Accept=application/json, User-Agent=AmazonAPIGateway_8lfiwn0kuf, X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOP//////////wEaCXVzLWVhc3QtMSJGMEQCIHIfsN5ewQiDImoUylyCvirlC25B8Tk45ao0p2PX+Zb5AiAufhNG+Pq13LlyILg3DRsyKmMj46Map136PH+OweQ5OyqxBQgsEAAaDDM5MjIyMDU3NjY1MCIMtsY/h47wyU2tvOIgKo4FfgLyUM6Yxk/XFsjRVQbjplWDs6ngCZdYWOd6dDP5clkR8NNhkMsQrluf9Xkx6HgO2cDgI+ClpMWGxTXCJKgAL3Y+LbBmob18l4wVyLbSO6//AUNPu52rahEOWHWdTiA9jABPAQqUephl2znNPgAVBv/+0nebjBmhXq4 [TRUNCATED]
Wed Aug 13 11:49:24 UTC 2025 : Endpoint request body after transformations: 
Wed Aug 13 11:49:24 UTC 2025 : Sending request to https://lambda.us-east-1.amazonaws.com/2015-03-31/functions/arn:aws:lambda:us-east-1:864965618223:function:testlambdafunction/invocations
Wed Aug 13 11:49:24 UTC 2025 : Received response. Status: 200, Integration latency: 311 ms
Wed Aug 13 11:49:24 UTC 2025 : Endpoint response headers: {Date=Wed, 13 Aug 2025 11:49:24 GMT, Content-Type=application/json, Content-Length=50, Connection=keep-alive, x-amzn-RequestId=b19495dd-9fde-47b2-9a75-b28cda38f4ed, x-amzn-Remapped-Content-Length=0, X-Amz-Executed-Version=$LATEST, X-Amzn-Trace-Id=Root=1-689c7bc4-525d5ea4d91113fcd41b39c4;Parent=12f394f3ebbfe599;Sampled=0;Lineage=1:8bcc934e:0}
Wed Aug 13 11:49:24 UTC 2025 : Endpoint response body before transformations: {"statusCode":200,"body":"\"Hello from Lambda!\""}
Wed Aug 13 11:49:24 UTC 2025 : Method response body after transformations: {"statusCode":200,"body":"\"Hello from Lambda!\""}
Wed Aug 13 11:49:24 UTC 2025 : Method response headers: {X-Amzn-Trace-Id=Root=1-689c7bc4-525d5ea4d91113fcd41b39c4;Parent=12f394f3ebbfe599;Sampled=0;Lineage=1:8bcc934e:0, Content-Type=application/json}
Wed Aug 13 11:49:24 UTC 2025 : Successfully completed execution
Wed Aug 13 11:49:24 UTC 2025 : Method completed with status: 200

```


- now if we hit request on browser on /lambda we get respone 

```
{
  "statusCode": 200,
  "body": "\"Hello from Lambda!\""
}
```



- if we enable lambda proxy integration then got this when tested
```
/lambda - GET method test results
Request
/lambda
Latency ms
38
Status
200
Response body
"Hello from Lambda!"
Response headers
{
  "X-Amzn-Trace-Id": "Root=1-689c7e40-e670b4ee766ce431a3d0d102;Parent=2aff57765ba27fb2;Sampled=0;Lineage=1:8bcc934e:0"
}
Logs
Execution log for request e6b317bd-c325-4381-8020-5e216d505e4d
Wed Aug 13 12:00:00 UTC 2025 : Starting execution for request: e6b317bd-c325-4381-8020-5e216d505e4d
Wed Aug 13 12:00:00 UTC 2025 : HTTP Method: GET, Resource Path: /lambda
Wed Aug 13 12:00:00 UTC 2025 : Method request path: {}
Wed Aug 13 12:00:00 UTC 2025 : Method request query string: {}
Wed Aug 13 12:00:00 UTC 2025 : Method request headers: {}
Wed Aug 13 12:00:00 UTC 2025 : Method request body before transformations: 
Wed Aug 13 12:00:00 UTC 2025 : Endpoint request URI: https://lambda.us-east-1.amazonaws.com/2015-03-31/functions/arn:aws:lambda:us-east-1:864965618223:function:testlambdafunction/invocations
Wed Aug 13 12:00:00 UTC 2025 : Endpoint request headers: {X-Amz-Date=20250813T120000Z, x-amzn-apigateway-api-id=8lfiwn0kuf, Accept=application/json, User-Agent=AmazonAPIGateway_8lfiwn0kuf, Host=lambda.us-east-1.amazonaws.com, X-Amz-Content-Sha256=8104e9296a6d1776d3c3a20f25b9fec8c58ee3962cfae52fcc0fcd663a5735f5, X-Amzn-Trace-Id=Root=1-689c7e40-e670b4ee766ce431a3d0d102, x-amzn-lambda-integration-tag=e6b317bd-c325-4381-8020-5e216d505e4d, Authorization=*********************************************************************************************************************************************************************************************************************************************************************************************************************************************455933, X-Amz-Source-Arn=arn:aws:execute-api:us-east-1:864965618223:8lfiwn0kuf/test-invoke-stage/GET/lambda, X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOP//////////wEaCXVzLWVhc3QtMSJIMEYCIQC5Xa4/8yg67UdoT64JdHcPkNAPbHwAnsfkVo6QK/uCHQIhAPcK9+XosouVGV3MQaSB9u4amVUowmQWBCU6Mca [TRUNCATED]
Wed Aug 13 12:00:00 UTC 2025 : Endpoint request body after transformations: {"resource":"/lambda","path":"/lambda","httpMethod":"GET","headers":null,"multiValueHeaders":null,"queryStringParameters":null,"multiValueQueryStringParameters":null,"pathParameters":null,"stageVariables":null,"requestContext":{"resourceId":"p9hqiq","resourcePath":"/lambda","httpMethod":"GET","extendedRequestId":"PPiqMH5zIAMFjuw=","requestTime":"13/Aug/2025:12:00:00 +0000","path":"/lambda","accountId":"account-id","protocol":"HTTP/1.1","stage":"test-invoke-stage","domainPrefix":"testPrefix","requestTimeEpoch":1755086400864,"requestId":"e6b317bd-c325-4381-8020-5e216d505e4d","identity":{"cognitoIdentityPoolId":null,"cognitoIdentityId":null,"apiKey":"test-invoke-api-key","principalOrgId":null,"cognitoAuthenticationType":null,"userArn":"arn:aws:iam::864965618223:root","apiKeyId":"test-invoke-api-key-id","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","accountId":"864965618223","caller":"86496 [TRUNCATED]
Wed Aug 13 12:00:00 UTC 2025 : Sending request to https://lambda.us-east-1.amazonaws.com/2015-03-31/functions/arn:aws:lambda:us-east-1:864965618223:function:testlambdafunction/invocations
Wed Aug 13 12:00:00 UTC 2025 : Received response. Status: 200, Integration latency: 36 ms
Wed Aug 13 12:00:00 UTC 2025 : Endpoint response headers: {Date=Wed, 13 Aug 2025 12:00:00 GMT, Content-Type=application/json, Content-Length=50, Connection=keep-alive, x-amzn-RequestId=914e4131-2d41-4574-8baa-54ecd1ea0077, x-amzn-Remapped-Content-Length=0, X-Amz-Executed-Version=$LATEST, X-Amzn-Trace-Id=Root=1-689c7e40-e670b4ee766ce431a3d0d102;Parent=2aff57765ba27fb2;Sampled=0;Lineage=1:8bcc934e:0}
Wed Aug 13 12:00:00 UTC 2025 : Endpoint response body before transformations: {"statusCode":200,"body":"\"Hello from Lambda!\""}
Wed Aug 13 12:00:00 UTC 2025 : Method response body after transformations: "Hello from Lambda!"
Wed Aug 13 12:00:00 UTC 2025 : Method response headers: {X-Amzn-Trace-Id=Root=1-689c7e40-e670b4ee766ce431a3d0d102;Parent=2aff57765ba27fb2;Sampled=0;Lineage=1:8bcc934e:0}
Wed Aug 13 12:00:00 UTC 2025 : Successfully completed execution
Wed Aug 13 12:00:00 UTC 2025 : Method completed with status: 200
```

```
"Hello from Lambda!"
```