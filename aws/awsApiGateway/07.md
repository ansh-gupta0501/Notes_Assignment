# API Gateway + DynamoDB Direct Integration 
 
- we have a table in dynamoDB test , in which we have one item key - gupta

- now create a new resource in api gateway , dynamodb 
- now create a method , in which first choose method type is GET and then integraion type AWS SERVICE 

- Now select aws region in which that service is there us-east-1
- now select aws service dynamodb
- aws subdomain is optional field so ignore it 
- now choose http method post . This http method is that which method of dynamodb will your api gateway hit. And we know with the help of rest api if we want to perform any scan operation inside dynamodb the method is post . Note the method type we choose before is type of request which user hit.  User hit get request but api gateway hits post request of dynamo db  
- choose action name as scan of dynamo db 
- choose execution role  which has permission of scan inside dynamo db . For this create a new role in iam role . go to iam > role > create role > aws service > api gateway  . in add permission choose dynamo db full access . now copy arn of thif role. now go to  this role and attach permission policy for dynamodb full access 

- now rest is default , now create 
- we have'nt give name of the database yet so
- now go to integration request , in mapping template , in add mapping template , content-type application/json and in template body , give name of table in json format "TableName" : "test"

- Now the post request hit on dynamo db api will be for this table now . now save it . 

- now test the api , we get the response
```
{"Count":1,"Items":[{"name":{"S":"gupta"},"partition":{"S":"key"}}],"ScannedCount":1}
```

- now deploy api and use with url 
```
{
  "Count": 1,
  "Items": [
    {
      "name": {
        "S": "gupta"
      },
      "partition": {
        "S": "key"
      }
    }
  ],
  "ScannedCount": 1
}
```