- Now create an ec2 instance , name it youtube-vpc-demo-instance 
- select os ubuntu and instane type default t2-micro
- edit the network settings and in which select your vpc you made 
- In subnet , you find all your 4 subnets , so choose any (let's say we choose network 2 which is in us-east-1b availability zone  )

- enable the auto assign public ips 

- now  select create securtiy group , , name it and enable ssh and launch instance 

- also remember securtiy group will be inside vpc always . means if you are creating instance in your vpc , then you have to use the security group of that vpc only 

- now try to connect this instance and we see it will not connect evenafter public ip enabled
- It is because we have made a network which is private and it has not any link with outer network. Means we sitting in a caffe where there is not internet network.
- but all computers in that caffe are connected with each other , we can ping each other computer, data can be transfered between them but google , facebook , or in simple terns access to internet is not accessible.


- so we have to provide internet to our vpc network 

- For this , go to your vpc and attach internet gateway to your vpc 

- so create internet gateway in which name it youtube-internet-gateway and create it . 

- now need to attach it to your vpc. 

- now your vpc has internet access . 
- but we see we still can't connect our instance 

- Networking says when you forward traffic , there are some rules which we need to define . 

- so go to route table , you see there is route table formed for our vpc 
- for this route table we see the routes destination 192.168.0.0/16  and target local which means if any traffic comes inside this range 192.168.0.0/16 , don't throw it out of your vpc . traffic will be inside your vpc only 

- so now check the ip address of your maching i.e, your ec2 instance , the private ipv4 address is 192.168.2.67. And you see this ip address is inside your vpc range 192.168.0.0/16 

- so in contract if we see routes of route table connected to default vpc we see destination 0.0.0.0/0 target internet gateway which means any ip address come , it will throw it to internet gateway 

- so write same rule for your route table 
- Now your vpc will got the internet 
- NOw connect your ec2 instance , it will connect successfuly now . 

- now in our route table we have 2 routes
```
Destination             target
0.0.0.0/0               igw
192.168.0.0/16          local 


now it means in this range 192.168.0.0/16  , suppose we have one node of 192.168.1.0 and other node of 192.168.1.5 and they sending data to each other , as they are in 192.168.0.0/16  this range so it will not throw the traffic outside but if any ip not of this range 192.168.0.0/16  , it will throw it outside to internet gateway  
```


```
doubt
 Why does the EC2 instance with a private IP (e.g., 192.168.2.67) get internet access after adding 0.0.0.0/0 to the route table?
Even though the EC2 instance still has a private IP, it can now access the internet because of two key things:

âœ… 1. Auto-assign Public IP + NAT via Internet Gateway
When you enabled Auto-assign Public IP during instance creation, AWS automatically assigned a public IPv4 address (e.g., 3.85.123.45) to your instance in addition to the private IP (192.168.2.67).

The private IP is used within the VPC (for internal communication).
The public IP is used for internet communication.
So, when you try to SSH or access the internet:

The source IP becomes the public IP.
The route table now has a rule: 0.0.0.0/0 â†’ Internet Gateway, which means any traffic to the internet is forwarded to the Internet Gateway (IGW).
âœ… 2. Route Table Logic
Your route table now looks like this:

Destination	Target
192.168.0.0/16	local
0.0.0.0/0	igw-xxxxxxx
The 192.168.0.0/16 â†’ local rule means traffic between instances in the VPC stays inside.
The 0.0.0.0/0 â†’ IGW rule means any traffic not matching the local rule (i.e., internet-bound) is sent to the Internet Gateway.
So, when your EC2 instance tries to connect to the internet:

It uses its public IP.
The traffic is routed via the Internet Gateway.
The return traffic comes back to the public IP, and AWS maps it back to the instance's private IP.
ðŸ§  Analogy
Think of the private IP as your room number in a hotel, and the public IP as the hotelâ€™s main phone number. When someone calls the hotel (internet), the receptionist (AWS) knows which room (private IP) to forward the call to.
```