# Now this same previous thing we can do with Application Load Balancer

- Take an example with lambda function we have made earlier which is, invocation-type function. 

- Now go to ec2 because we know whenever we make application load balancer , we need target group . we say to load balancer that if we get any request , it should go to this target group. 

- now go to ec2 > load balancing > target groups > create target group 
- choose lambda function in basic configuration and give name to target group i.e, aws-lambda-tg
- next select a lambda function invocation-type
- now go to load balancer and create load balancer 
- name the load balancer as aws-lb , choose schema internet-facing , and ipv4 address type , choose default vpc , and choose any 2 availablity zones
- create a new security group in which open port 80 for all ip4 and ip6 address for inbound rules
- name the security group as mywebserver 
- give description allow web traffic
- choose default vpc 
- in inbound rules , choose type http and source type anywhere-ipv4 and make another rule in which same type http and source type anywhere-ipv6
- in outbound rule choose all traffic default

- now comeback to load balancer , choose this security group 
- Now in listeners and routing means if any request comes on port 80 on our load balancer then where to divert so choose target group here we have made aws-lambda-tg
- wait for load balancer status from provisioning to active 
- now copy the DNS name and make a curl request on our terminal we get output on our terminal 
```
"Hello from Lambda!" 
``` 

- and on our cloudwatch logs we get 
```
2025-08-11T05:28:52.817Z	db8b153c-6904-4333-a7af-96aef2ac9b7b	INFO	event {
  requestContext: {
    elb: {
      targetGroupArn: 'arn:aws:elasticloadbalancing:us-east-1:864965618223:targetgroup/aws-lambda-tg/6e8912a98d9925c6'
    }
  },
  httpMethod: 'GET',
  path: '/',
  queryStringParameters: {},
  headers: {
    accept: '*/*',
    host: 'aws-lb-1810038519.us-east-1.elb.amazonaws.com',
    'user-agent': 'curl/8.13.0',
    'x-amzn-trace-id': 'Root=1-68997f8f-702c7e9a1a9bb14b08b55580',
    'x-forwarded-for': '14.192.0.170',
    'x-forwarded-port': '80',
    'x-forwarded-proto': 'http'
  },
  body: '',
  isBase64Encoded: false
}

```

- note :- this works synchronusly, Therefore , we get output after 5 seconds on the cmd 