# Trigger AWS lambda on s3 object creation and updates 

- I created a lambda function in which i am printing event and context value and add trigger **s3** to it. 
- **Note** :- Bucket you choose must be in same  region  as function region.

- **Event Type** - All object create event :- whenever an object is created , only at that time call the lambda function 

- Other option like prefix / suffix means like if a new object comes inside that particular foler , only then i trigger the lambda function otherwise in will not. 

- now that recursive invocation option means suppose we event is created in a bucket and it calls lambda function , now this lambda function create a new object on bucket , now again lambda function call which again create a new object on s3 so this process will be going on in a loop which can increase the costing.

- so you should use different bucket for input and output

- Now when you put the object on s3 , lambda function will be called asynchronous

- we get event value as 
```
2025-08-08T09:36:58.605Z	ef19f1f8-b289-4527-8da8-47c5462ff24a	INFO	event {
  Records: [
    {
      eventVersion: '2.1',
      eventSource: 'aws:s3',
      awsRegion: 'us-east-1',
      eventTime: '2025-08-08T09:36:57.432Z',
      eventName: 'ObjectCreated:Put',
      userIdentity: [Object],
      requestParameters: [Object],
      responseElements: [Object],
      s3: [Object]
    }
  ]
}

```

```

context value is this 

2025-08-08T09:36:58.615Z	ef19f1f8-b289-4527-8da8-47c5462ff24a	INFO	context {
  callbackWaitsForEmptyEventLoop: [Getter/Setter],
  succeed: [Function (anonymous)],
  fail: [Function (anonymous)],
  done: [Function (anonymous)],
  functionVersion: '$LATEST',
  functionName: 'event-context',
  memoryLimitInMB: '128',
  logGroupName: '/aws/lambda/event-context',
  logStreamName: '2025/08/08/[$LATEST]c29601effd48453c850980cf483c1b28',
  clientContext: undefined,
  identity: undefined,
  invokedFunctionArn: 'arn:aws:lambda:us-east-1:864965618223:function:event-context',
  awsRequestId: 'ef19f1f8-b289-4527-8da8-47c5462ff24a',
  tenantId: undefined,
  getRemainingTimeInMillis: [Function: getRemainingTimeInMillis]
}

```


- if want to see full event object use   console.log('event',JSON.stringify(event, null, 2))

```
2025-08-08T09:45:12.354Z	e6760680-487d-46eb-aba1-22a04741b77d	INFO	event {
    "Records": [
        {
            "eventVersion": "2.1",
            "eventSource": "aws:s3",
            "awsRegion": "us-east-1",
            "eventTime": "2025-08-08T09:45:11.508Z",
            "eventName": "ObjectCreated:Put",
            "userIdentity": {
                "principalId": "A2UEC0ACAC8TVG"
            },
            "requestParameters": {
                "sourceIPAddress": "14.192.0.170"
            },
            "responseElements": {
                "x-amz-request-id": "TY1H9YS60W2PECEA",
                "x-amz-id-2": "nDAEv6E3M4DMpkSItL2xgpyerT6sSxzujHw2DZ0GgdQFrXR5RvTKzw3ANzftFlTbHGP9kazY3XmwOQy6lO3IfLlWKq5wO8JR"
            },
            "s3": {
                "s3SchemaVersion": "1.0",
                "configurationId": "1ef6b157-814f-4758-ae9c-91889b42b2a8",
                "bucket": {
                    "name": "lambdatriggerfunction8223",
                    "ownerIdentity": {
                        "principalId": "A2UEC0ACAC8TVG"
                    },
                    "arn": "arn:aws:s3:::lambdatriggerfunction8223"
                },
                "object": {
                    "key": "Screenshot+2025-05-27+115114.png",
                    "size": 227440,
                    "eTag": "00fd7b6afb8621cf01f2b905b83be68b",
                    "sequencer": "006895C727690E5299"
                }
            }
        }
    ]
}

```

---



